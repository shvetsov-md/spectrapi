openapi: 3.0.0
x-stoplight:
  id: nzh6qkwu2km00
info:
  title: spectrAPI
  version: '1.0'
servers:
  - url: 'https://ms-spectr-service-file-spectr.apps.okd.stage.digital.rt.ru/'
    description: test
  - url: ''
    description: ''
paths:
  '/designs/{design_id}/artboards/{artboard_id}/content':
    parameters:
      - schema:
          type: string
        name: design_id
        in: path
        required: true
      - schema:
          type: string
        name: artboard_id
        in: path
        required: true
    get:
      summary: Design Artboard Content
      tags:
        - octopus
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  version:
                    type: object
                    description: 'Информция о версиях инструментов, файлы которых были импортированы. Обязательно должен быть параметр octopus-common и один из дополнительных праметров с версией интструмента. Все версии возвращаются в вивде сементаческой версионности'
                    properties:
                      octopus-common:
                        type: string
                        example: 1.2.3
                        description: |-
                          Версия octopus
                          * 
                      octopus-sketch:
                        type: string
                        example: 1.2.3
                        description: Версия инструмента sketch для адаптера octopus
                      octopus-figma:
                        type: string
                        example: 1.2.3
                        description: Версия инструмента figma для адаптера octopus
                      octopus-ps:
                        type: string
                        example: 1.2.3
                        description: Версия инструмента photoshop для адаптера octopus
                      octopus-xd:
                        type: string
                        example: 1.2.3
                        description: Версия инструмента adobe xd для адаптера octopus
                      octopus-ai:
                        type: string
                        example: 1.2.3
                        description: Версия инструмента adobe illustrator для адаптера octopus
                    required:
                      - octopus-common
                  timeStamp:
                    type: integer
                    description: Время создания документа octopus. Возвращается как в виде временной метки Unix
                    example: 1621946352725
                  bounds:
                    type: object
                    deprecated: true
                    description: |-
                      Границы фрейма. Верхняя (top) / левая (left) граница всегда равны 0, в объекте возвращаются значения только ширины (width) и высоты (height) документа.

                      -- Не используем. Ширину и высоту возьмем из массива layers[ ] для объекта с слоем: "<ИД фрейма>:background"
                    properties:
                      top:
                        $ref: '#/components/schemas/top'
                      left:
                        $ref: '#/components/schemas/left'
                      bottom:
                        $ref: '#/components/schemas/bottom'
                      right:
                        $ref: '#/components/schemas/right'
                      hight:
                        $ref: '#/components/schemas/height'
                      weight:
                        $ref: '#/components/schemas/weight'
                    required:
                      - top
                      - left
                      - bottom
                      - right
                      - hight
                      - weight
                  symbolID:
                    type: string
                    description: |-
                      ИД фрейма в документе octopus. Возвращается если фрейм фигмы является компонентом

                      -- Не используем
                    deprecated: true
                  isSymbolMaster:
                    type: boolean
                    description: |-
                      Флаг, являетсяя ли фрейм компонентом:
                      * true - является компонентом (мастером);
                      * false - не является

                      -- Параметр возвращается вместе с параметром symbolID;
                      -- Для всех фреймов (компонентов) фигмы параметр будет возвращаться только со значением true
                  frame:
                    type: object
                    description: Позиция фрейма на Рабочей области в фигма
                    properties:
                      x:
                        type: number
                        description: Горизонтальное положение Рабочей области (по оси X)
                        format: float
                        default: 0
                        example: 9.99
                      'y':
                        type: number
                        description: Вертикальное положение Рабочей области (по оси Y)
                        format: float
                        default: 0
                        example: 9.99
                    required:
                      - x
                      - 'y'
                  backgroundColor:
                    $ref: '#/components/schemas/color'
                  hasBackgroundColor:
                    type: boolean
                    description: |-
                      Флаг указывающий, нужно ли применять цвет фона, полученный из объекта backgroundColor, к Рабочей области:
                      * true - применить;
                      * false - не применять

                      -- Не используем
                    deprecated: true
                  guides:
                    type: object
                    description: |-
                      горизонтальные и вертикальные направляющие линейки Рабочей области

                      -- Не возвращается для фигмы;
                      -- Не используем. Будем использовать стандартную линейку с заданным шагом и размером по умолчанию: шаг 1 пиксель и размер по ширине и высоте от -131072 до 131072
                    deprecated: true
                    properties:
                      x:
                        type: array
                        description: Массив горизонтальных направляющих линейки. Может быть пустой
                        items:
                          type: number
                      'y':
                        type: array
                        description: Массив вертикальных направляющих линейки. Может быть пустой
                        items:
                          type: number
                    required:
                      - x
                      - 'y'
                  includeBackgroundColorInInstance:
                    type:
                      - number
                      - array
                    deprecated: true
                    default: 0
                    enum:
                      - 0
                      - 1
                    description: |-
                      Использование цвета фона в экземпляра

                      -- Не используем;
                      -- Не возвращается для фигмы
                    items: {}
                  exportables:
                    type: array
                    description: |-
                      Массив дескрипторов экспорта. Каждая запись относится к слайсу или слою

                      -- Не возвращается и не используется для фигмы
                    deprecated: true
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          enum:
                            - LAYER
                            - SLICE
                          description: Тип дескриптора
                        location:
                          type: object
                          description: 'Положение дескриптора экспорта. Для определения положения, в случае слайса использются значения парметров parent и index, в случае слоя только id'
                          properties:
                            id:
                              type: string
                              description: ИД слоя
                            parent:
                              type: string
                              description: ИД родительского слоя
                            index:
                              type: number
                              description: Индекс слоя в родительском массиве слоев
                        trimTransparentPixels:
                          type: boolean
                          description: |-
                            Флаг, обозначающий, следует ли обрезать прозрачные пиксели при экспорте:
                            * true - обрезать пиксели;
                            * false - не обрезать
                        background:
                          type: object
                          description: Фон экспорта
                          properties:
                            value:
                              $ref: '#/components/schemas/color'
                            enabled:
                              type: boolean
                              description: |-
                                * true - если фон включен;
                                * false - выключен
                        bounds:
                          type: object
                          description: Границы дескрипторов
                          properties:
                            top:
                              $ref: '#/components/schemas/top'
                            left:
                              $ref: '#/components/schemas/left'
                            bottom:
                              $ref: '#/components/schemas/bottom'
                            right:
                              $ref: '#/components/schemas/right'
                            height:
                              $ref: '#/components/schemas/height'
                            weight:
                              $ref: '#/components/schemas/weight'
                          required:
                            - top
                            - left
                            - bottom
                            - right
                            - height
                            - weight
                        limitTo:
                          type: string
                          description: |-
                            Что должно быть включено в экспорт:
                            * ARTBOARD - вся Рабочая область;
                            * SELF - сам объект
                          enum:
                            - ARTBOARD
                            - SELF
                        formats:
                          type: array
                          description: 'Массив, описывающий форматы экспорта'
                          items:
                            type: object
                            properties:
                              naming:
                                type: object
                                description: Значение префикса / суффикса названия экспорта
                                properties:
                                  scheme:
                                    type: string
                                    description: Тип наименования
                                    enum:
                                      - PREFIX
                                      - SUFFIX
                                  value:
                                    type: string
                                    description: Значение перфикса или суффикса
                              format:
                                type: string
                                description: Формат экспорта
                                enum:
                                  - PNG
                                  - JPG
                                  - TIFF
                                  - WEBP
                                  - PDF
                                  - EPS
                                  - SVG
                              size:
                                type: object
                                description: Ограничение изменения размера
                                properties:
                                  mode:
                                    type: string
                                    enum:
                                      - SCALE
                                      - WIDTH
                                      - HEIGHT
                                    description: Тип изменения размера результата экспорта (масштабировать или изменять размер с фиксированной шириной или высотой)
                                  value:
                                    type: number
                                    description: Значение ограничения
                            required:
                              - format
                      required:
                        - type
                  flow:
                    type: object
                    description: |-
                      Взаимодействие между фреймами (создание прототипов). Для фигмы реализовано частично

                      -- Пока не используем. Для 2-го этапа
                    deprecated: true
                    properties:
                      initial:
                        type: boolean
                        description: |-
                          Флаг, является ли фрейм родительским фреймом для всего прототипа дизайна:
                          * true - является;
                          * false - нет

                          -- Для фремов фигмы всегда приходит false
                      interactions:
                        type: array
                        description: Массив взаимодествий фреймов
                        items:
                          type: object
                          properties:
                            destination:
                              type: object
                              description: Описание взаимодействия
                              properties:
                                type:
                                  type: string
                                  enum:
                                    - id
                                    - relative
                                  description: 'Тип: ИД фрейма или значение направления'
                                id:
                                  type: string
                                  description: ИД фрейма назначени
                                relativeValue:
                                  type: string
                                  enum:
                                    - back
                                  description: Значение направления
                            animation:
                              type: object
                              description: Десскриптор свойств анимации взаимодействия
                              properties:
                                type:
                                  type: string
                                  description: Тип анимации взимодествия
                                  enum:
                                    - DISSOLVE
                                    - MOVE_UP
                                    - MOVE_DOWN
                                    - MOVE_LEFT
                                    - MOVE_RIGHT
                                    - PUSH_UP
                                    - PUSH_DOWN
                                    - PUSH_LEFT
                                    - PUSH_RIGHT
                                    - SLIDE_UP
                                    - SLIDE_DOWN
                                    - SLIDE_LEFT
                                    - SLIDE_RIGHT
                                    - NONE
                                easing:
                                  type: string
                                  enum:
                                    - EASE_IN
                                    - EASE_OUT
                                    - EASE_IN_OUT
                                    - NON
                                  description: Тип плавной анимации
                                duration:
                                  type: integer
                                  description: Продолжительность анимации (количество миллисекунд)
                                delay:
                                  type: integer
                                  description: Время задержки перед анимацией (количество миллисекунд)
                            bounds:
                              type: object
                              description: Границы области взаиможействия
                              required:
                                - top
                                - left
                                - weight
                                - height
                                - right
                                - bottom
                              properties:
                                top:
                                  $ref: ''
                                left:
                                  $ref: '#/components/schemas/left'
                                weight:
                                  $ref: '#/components/schemas/weight'
                                height:
                                  $ref: '#/components/schemas/height'
                                right:
                                  $ref: '#/components/schemas/right'
                                bottom:
                                  $ref: '#/components/schemas/bottom'
                            preserveScroll:
                              type: boolean
                              description: 'Если true, то монтажная область должна сохранять текущее положение прокрутки. Иначе false'
                            trigger:
                              type: string
                              description: 'Триггер (например, жест), который инициирует взаимодействие'
                            ownerId:
                              type: string
                              description: 'ИД слоя, из которого происходит взаимодействие'
                          required:
                            - destination
                            - animation
                            - bounds
                  smartLayout:
                    type: string
                    deprecated: true
                    description: |-
                      Умная компоновка

                      -- Не используем (используется только для Sketch);
                      -- Не возвращается для figma
                    enum:
                      - RIGHT_TO_LEFT
                      - HORIZONTAL_CENTER
                      - TOP_TO_BOTTOM
                      - BOTTOM_TO_TOP
                      - HORIZONTAL_CENTER
                      - LEFT_TO_RIGHT
                  name:
                    type: string
                    description: Наименование фрейма
                  id:
                    type: string
                    description: ИД фрейма
                  layoutGrid:
                    type: array
                    description: Компоновочная сетка
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          description: Тип сетки
                          enum:
                            - grid
                            - column
                            - row
                        size:
                          type: number
                          description: |-
                            Для type = "grid", это расстояние между линиями сетки по горизонтали и вертикали.
                            Для type = "column" / "row", это ширина линий сетки
                          format: float
                          example: 9.99
                          default: 0
                        thickEvery:
                          type: number
                          description: |-
                            Толщина линий сетки, для type = "grid"

                            -- Параметр возвращается, если type = "grid"
                        color:
                          $ref: '#/components/schemas/color'
                        enabled:
                          type: boolean
                          description: |-
                            Флаг, отвечающий за видимость сетки:
                            * true - сетку нужно показывать;
                            * false - сетка должна быть скрыта
                        count:
                          type: number
                          description: |-
                            Количество линий сетки, для type = "column" / "row"

                            -- Параметр возвращается только для type = "column" / "row"
                            -- Если в фигма установлено значение "auto", то в параметре возвращается "0"
                        drawEveryLine:
                          type: boolean
                          description: |-
                            Флаг, нужно отрисовывать все линии. Возвращается только для type = "raw"

                            -- Не используем. Для фигмы всегда false
                          deprecated: true
                        outerOutline:
                          type: boolean
                          description: |-
                            Флаг, нужно отрисовывать внешние линии. Возвращается только для type = "column"

                            -- Не используем. Для фигмы всегда false
                          deprecated: true
                        bounds:
                          type: object
                          description: |-
                            Границы сетки по отношению к фрейму. Объект возвращается только для type = "column" / "raw"

                            -- Используя значения, полученные в параметрам объекта, можно расчитать отступ и расстояение между линиями сетки (как в фигме)
                          properties:
                            top:
                              $ref: '#/components/schemas/top'
                            left:
                              $ref: '#/components/schemas/left'
                            weight:
                              $ref: '#/components/schemas/weight'
                            height:
                              $ref: '#/components/schemas/height'
                            bottom:
                              $ref: '#/components/schemas/bottom'
                            right:
                              $ref: '#/components/schemas/right'
                          required:
                            - top
                            - left
                            - weight
                            - height
                            - bottom
                            - right
                      required:
                        - type
                        - size
                        - color
                        - enabled
                  layers:
                    type: array
                    description: Слои фрейма
                    items:
                      $ref: '#/components/schemas/layer(octopus)'
                required:
                  - name
                  - id
                  - layers
      operationId: get-designs-design_id-artboards-artboard_id-content
      description: Получение информации о содержимом Рабочей области
      parameters:
        - schema:
            type: string
          in: query
          name: design_id
          required: true
          description: ИД импортированного файла
        - schema:
            type: string
          in: query
          name: artboard_id
          required: true
          description: ИД фрейма в импортированном файле
  '/api/pe/file/{fileId}/pages/':
    post:
      summary: Добавление страницы
      operationId: post-api-gr-page-add
      responses:
        '200':
          description: 'Сервер возвращает признак сохранения изменений по каждой странице, которые были переданы в запросе'
          content:
            application/json:
              schema:
                type: object
                properties:
                  pages:
                    type: array
                    description: Информация по сохранению изменений страницы
                    items:
                      $ref: '#/components/schemas/signSave'
                required:
                  - pages
              examples: {}
        ошибка:
          $ref: '#/components/responses/error'
      description: Добавление новой страницы в дизайн-файле
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                pages:
                  type: array
                  description: Информация по добавленным страницам
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                        description: 'ИД страницы, сгенерированной на стороне клиента'
                      name:
                        type: string
                        description: 'Название добавляемой страницы: "Page <количество страниц файла, не считая добавляемой + 1>"'
                      number:
                        type: number
                        description: 'Порядковый номер новой страницы: <значение порядкового номера страницы, которая была активной перед добавление новой> + 1'
                      sourcePageId:
                        type: string
                        description: 'Идентификатор страницы, копию которой планируется создать'
                      backgroundCanvas:
                        $ref: '#/components/schemas/color'
                    required:
                      - id
                      - name
                      - number
                      - backgroundCanvas
              required:
                - pages
            examples: {}
        description: 'Клиент присылает список новых страниц, присвоение идентификатора происходит на клиенте'
      tags:
        - Редактор. Страницы
      parameters:
        - $ref: '#/components/parameters/SESSION'
    parameters:
      - $ref: '#/components/parameters/fileId'
  '/api/pe/file/{fileId}/pages/status/{status}/':
    post:
      summary: Изменение статуса
      operationId: post-api-gr-page-delete
      responses:
        '200':
          description: 'Сервер возвращает признак сохранения изменений по каждой странице, которые были переданы в запросе'
          content:
            application/json:
              schema:
                type: object
                properties:
                  pages:
                    type: array
                    description: Информация по сохранению изменений страницы
                    items:
                      $ref: '#/components/schemas/signSave'
                required:
                  - pages
        ошибка:
          $ref: '#/components/responses/error'
        '':
          description: ''
      description: Удаление страницы из дизайн-файла
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                pagesId:
                  type: array
                  description: ИД удаляемых страниц
                  items:
                    type: string
              required:
                - pagesId
        description: ''
      tags:
        - Редактор. Страницы
      parameters:
        - $ref: '#/components/parameters/SESSION'
    parameters:
      - $ref: '#/components/parameters/fileId'
      - schema:
          type: string
          enum:
            - delete
        name: status
        in: path
        required: true
        description: Изменение статуса страницы
  '/api/pe/file/{fileId}/pages/list/':
    get:
      summary: Получение актуального списка
      operationId: get-api-gr-file-fileId-page-list
      responses:
        '200':
          description: Сервер возвращает информацию по всем страницам дизайн-файла
          content:
            application/json:
              schema:
                type: object
                properties:
                  pages:
                    type: array
                    description: Актуальный список страниц дизайн-файла
                    items:
                      $ref: '#/components/schemas/page'
                required:
                  - pages
              examples: {}
        ошибка:
          $ref: '#/components/responses/error'
        '':
          content:
            application/json:
              schema:
                type: object
                properties:
                  pages:
                    type: array
                    items:
                      $ref: '#/components/schemas/page'
      description: Получение актуального списка страниц из БД Спектр
      tags:
        - Редактор. Страницы
      parameters:
        - $ref: '#/components/parameters/SESSION'
    parameters:
      - $ref: '#/components/parameters/fileId'
  '/api/pe/file/{fileId}/pages/names/':
    post:
      summary: Изменение наименования
      operationId: post-api-shape
      responses:
        '200':
          description: 'Сервер возвращает признак сохранения изменений по каждой странице, которые были переданы в запросе'
          content:
            application/json:
              schema:
                type: object
                properties:
                  pages:
                    type: array
                    description: Информация по сохранению изменений страницы
                    items:
                      $ref: '#/components/schemas/signSave'
                required:
                  - pages
        ошибка:
          $ref: '#/components/responses/error'
      description: Изменение названия страницы
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                pages:
                  type: array
                  description: Новые наименования страниц
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                        description: ИД страницы
                      newName:
                        type: string
                        description: Новое название страницы
                    required:
                      - id
                      - newName
              required:
                - pages
        description: Клиент присылает список страниц с новыми наименованиями
      tags:
        - Редактор. Страницы
      parameters:
        - $ref: '#/components/parameters/SESSION'
    parameters:
      - $ref: '#/components/parameters/fileId'
  '/api/pe/file/{fileId}/pages/numbers/':
    post:
      summary: Изменение порядкого номера
      operationId: post-api-gr-page-changeNumber
      responses:
        '200':
          description: 'Сервер возвращает признак сохранения изменений по каждой странице, которые были переданы в запросе'
          content:
            application/json:
              schema:
                type: object
                properties:
                  pages:
                    type: array
                    description: Информация по сохранению изменений страницы
                    items:
                      $ref: '#/components/schemas/signSave'
                required:
                  - pages
        ошибка:
          $ref: '#/components/responses/error'
      tags:
        - Редактор. Страницы
      description: Изменение порядкого номера страниц
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                pages:
                  type: array
                  description: Новые порядковые номера страниц дизайн-файла
                  items:
                    $ref: '#/components/schemas/numberPages'
              required:
                - pages
        description: ''
      parameters:
        - $ref: '#/components/parameters/SESSION'
    parameters:
      - $ref: '#/components/parameters/fileId'
  /api/team/:
    post:
      summary: Создание команды
      operationId: post-api-st-team
      responses:
        '200':
          description: 'В ответе возвращаетя ИД созданной группы, который генерируется на строне сервера'
          content:
            application/json:
              schema:
                type: object
                properties:
                  teamId:
                    type: string
                    description: ИД созданной группы
                required:
                  - teamId
        ошибка:
          $ref: '#/components/responses/error'
      description: Создание новой команды
      parameters:
        - $ref: '#/components/parameters/SESSION'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Наименование команды
                description:
                  type: string
                  description: Описание организации
                type:
                  type: string
                  description: Тип команды
                  enum:
                    - closed
                    - openAll
                    - openOrg
                avatar:
                  type: string
                  description: ИД файла из ответа метода /api/st/team/image
                organization:
                  type: string
                  description: ИД оргенизации
                users:
                  type: array
                  description: Информация об участниках команды
                  items:
                    type: object
                    properties:
                      email:
                        type: string
                        description: Адрес электронной почты участника
                      role:
                        type: string
                        description: Роль участника
                        enum:
                          - edit
                          - view
                    required:
                      - email
                      - role
              required:
                - name
            examples: {}
        description: 'Клиент передает на сервер информацию о новой команде, которую создает пользователь'
      tags:
        - ЛК. Команда
    parameters: []
  /api/team/image/:
    parameters: []
    post:
      summary: Загрузка аватара
      operationId: post-api-st-team-teamId-image
      responses:
        '200':
          description: Сервер возвращает ИД сохраненого изображения в БД
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: ИД загруженного изображеия
                  link:
                    type: string
                    description: Ссылка на аватар
                required:
                  - id
                  - link
      description: Загрузка аватара команды на сервер
      parameters:
        - schema: {}
          in: query
          name: image
          description: 'Аватр команды (image/jpeg, image/jpg, image/png)'
          required: true
        - $ref: '#/components/parameters/SESSION'
      tags:
        - ЛК. Команда
  '/api/team/{teamId}/collaborations/status/{status}/':
    parameters:
      - schema:
          type: string
        name: teamId
        in: path
        required: true
        description: ИД команды
      - schema:
          type: string
          enum:
            - add
            - delete
            - change
        name: status
        in: path
        required: true
        description: Действие с участником
    put:
      summary: Управление участниками команды
      operationId: post-api-st-team-teamId-c
      responses:
        '200':
          description: Сервер возвращает актуальный список участников команды
          content:
            application/json:
              schema:
                type: object
                properties:
                  users:
                    type: array
                    description: Актуальный список пользователей
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          description: Имя участника
                        email:
                          type: string
                          description: Адрес электронной почты
                        role:
                          type: string
                          description: Роль участника
                          enum:
                            - edit
                            - view
                            - admin
                        avatar:
                          type: string
                          description: ИД на аватар УЗ
                        isPending:
                          type: boolean
                          description: |-
                            Признак ожидания принятия приглашения на добавление в команду:
                            * true: ожидает принятия приглашения;
                            * false: приглашение принято
                      required:
                        - name
                        - email
                        - role
                        - isPending
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                users:
                  type: array
                  description: Информация об участниках команды
                  items:
                    type: object
                    properties:
                      email:
                        type: string
                        description: Адрес электронной почты участника
                      role:
                        type: string
                        description: Роль участника
                        enum:
                          - edit
                          - view
                          - admin
                    required:
                      - email
              required:
                - users
        description: 'Клиен отправляет инфомацию по пользователю: email и роль'
      description: Управление участниками команды и получение актуального списка участников
      tags:
        - ЛК. Команда
      parameters:
        - $ref: '#/components/parameters/SESSION'
  /api/account/login/:
    post:
      summary: Авторизация по логину и паролю УЗ
      operationId: post-api-account
      responses:
        '200':
          description: Серевер возвращает ИД сессии пользователя в заголовках в параметре Set-Cookie
          content:
            application/json:
              schema:
                type: object
                properties: {}
          headers:
            Set-Cookie:
              schema:
                type: string
              description: 'spectr.session={ИД сессии УЗ}'
        ошибка:
          $ref: '#/components/responses/error'
        '':
          headers:
            Set-Cookie:
              schema:
                type: string
      description: Авторизация по логину и паролю учетной записи пользователя
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                login:
                  type: string
                  description: Адрес электронной почты УЗ в качестве логина
                password:
                  type: string
                  description: Пароль УЗ
              required:
                - login
                - password
        description: 'Клиент передает серверу email, в качестве логина, и пароль'
      tags:
        - Авторизация
      parameters: []
    parameters: []
  /api/account/logout/:
    post:
      summary: Разавторизация
      operationId: post-api-account-logout
      responses:
        '200':
          description: 'Серевер удаяляет сессию УЗ, переданную в заголовках в параметре Set-Cookie'
          content:
            application/json:
              schema:
                type: object
                properties: {}
        ошибка:
          $ref: '#/components/responses/error'
      description: Выход из профиля УЗ
      tags:
        - Авторизация
      parameters:
        - $ref: '#/components/parameters/SESSION'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties: {}
  '/api/pe/file/{fileId}/page/{pageId}/layers/status/{status}/':
    parameters:
      - $ref: '#/components/parameters/fileId'
      - $ref: '#/components/parameters/pageId'
      - schema:
          type: string
          enum:
            - add
            - change
            - delete
        name: status
        in: path
        required: true
        description: Изменение статуса слоя
    post:
      summary: Управление слоями
      operationId: post-api-pe-file-fileId-page-pageId-layers
      responses:
        '200':
          description: 'Сервер возвращает признак сохранения изменений по каждому слою, которые были переданы в запросе'
          content:
            application/json:
              schema:
                type: object
                properties:
                  layers:
                    type: array
                    description: 'Признаки сохранения измений по слоям, переданным в запросе'
                    items:
                      $ref: '#/components/schemas/signSave'
        ошибка:
          $ref: '#/components/responses/error'
      description: |-
        Управление слоями в зависимости от переданного статуса в параметре пути status:
        * add - добавление слоя, в БД Спектра для слоя проставляется стасус true (активный слой);
        * change - изменение свояйств слоя;
        * delete - удаление слоя, в БД для слоя проставялется статус false (архивный слой)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                layers:
                  type: array
                  description: Информация по слоям
                  items:
                    $ref: '#/components/schemas/layer'
              required:
                - layers
        description: 'Клиент передает список слоев, с которыми необходимо выполнить действия в зависимости от значеия в параметре пути status'
      tags:
        - Слои
      parameters:
        - $ref: '#/components/parameters/SESSION'
  '/api/pe/file/{fileId}/page/{pageId}/layers/list/':
    parameters:
      - $ref: '#/components/parameters/fileId'
      - $ref: '#/components/parameters/pageId'
    get:
      summary: Получение списка слоев
      operationId: get-api-pe-file-fileId-page-pageId-layers-list
      responses:
        '200':
          description: Серевер возвращает всю информацию по слоям на странице
          content:
            application/json:
              schema:
                type: object
                properties:
                  layers:
                    type: array
                    description: Информация по всем слоям страницы
                    items:
                      $ref: '#/components/schemas/layer'
                required:
                  - layers
        ошибка:
          $ref: '#/components/responses/error'
      description: 'Получения списка всех слоев на выбранной странице, ИД которой передан в параметре пути pageId'
      parameters:
        - $ref: '#/components/parameters/SESSION'
      tags:
        - Слои
  '/api/pe/file/{fileId}/page/{pageId}/layers/{layerId}/':
    parameters:
      - $ref: '#/components/parameters/fileId'
      - $ref: '#/components/parameters/pageId'
      - $ref: '#/components/parameters/layerId'
    get:
      summary: Получение информации по слою
      operationId: get-api-pe-file-fileId-page-pageId-layers-layerId
      responses:
        '200':
          description: Сервер возвращает информацию по слою с ИД из параметра layerId
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/layer'
        ошибка:
          $ref: '#/components/responses/error'
      description: 'Получение всей информации по слою, ИД которого передан в параметре пути layerId'
      tags:
        - Слои
      parameters:
        - $ref: '#/components/parameters/SESSION'
  '/api/pe/file/{fileId}/pages/backgroundCanvas/':
    parameters:
      - $ref: '#/components/parameters/fileId'
    post:
      summary: Изменение настроек цвета фона Рабочей области
      operationId: post-api-pe-file-pages-backgroundCanvas
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  pages:
                    type: array
                    description: Информация по сохранению изменений страницы
                    items:
                      $ref: '#/components/schemas/signSave'
                required:
                  - pages
      tags:
        - Редактор. Страницы
      description: |-
        Метод для изменение настроек цвета фона Рабочей области:
        * цвет фона;
        * не прозрачность фона;
        * видимость фона
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                pages:
                  type: array
                  description: Новые настройки страниц
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                        description: 'ИД страницы, для которой изменяются настройки цвета фона Рабочей област '
                      backgroundCanvas:
                        $ref: '#/components/schemas/color'
                    required:
                      - id
                      - backgroundCanvas
              required:
                - pages
        description: Клиент передает новые значения настроек фона Рабочей области
components:
  schemas:
    bottom:
      type: number
      title: bottom
      x-stoplight:
        id: qw0kkrh4xmee4
      format: float
      default: 0
      example: 9.99
      description: Нижняя граница (top + height)
    top:
      type: number
      title: top
      x-stoplight:
        id: oet4m14nzd64s
      description: Верхняя граница (X)
      format: float
      default: 0
      example: 9.99
    left:
      type: number
      title: left
      x-stoplight:
        id: 8x2zew2xaoy94
      description: Левая граница (Y)
      format: float
      default: 0
      example: 9.99
    right:
      type: number
      title: right
      x-stoplight:
        id: h0rt1xbpxj7eb
      description: Првая граница (left + weight)
      format: float
      default: 0
      example: 9.99
    height:
      type: number
      title: height
      x-stoplight:
        id: dopvzf7ugk96t
      description: Высота
      format: float
      default: 0
      example: 9.99
    weight:
      type: number
      title: weight
      x-stoplight:
        id: g07n26xzl67ws
      description: Ширина
      format: float
      default: 0
      example: 9.99
    color(octopus):
      title: color
      x-stoplight:
        id: ego30so2z2daw
      type: object
      description: |-
        Цветовой дескриптор

        -- Полученные значения RGB необходимо преобразовать в режим цветового кодирования HEX.
        Значение альфа канала в проценты (a * 100);
        -- Для фрейма в параметре backgroundColor будет всегда: 
        {
          "r": 0,
          "g": 0,
          "b": 0,
          "a": 0
        }
      x-internal: false
      properties:
        r:
          type: integer
          minimum: 0
          maximum: 255
          description: Цветовой канал красного цвета
        g:
          type: integer
          minimum: 0
          maximum: 255
          description: Цветовой канал зеленого цвета
        b:
          type: integer
          minimum: 0
          maximum: 255
          description: Цветовой канал синего цвета
        a:
          type: number
          format: float
          default: 1
          example: 0.99
          minimum: 0
          maximum: 1
          description: |-
            Альфа канал

            --Для Спектра необходимо перевести полученное значение в %
      required:
        - r
        - g
        - b
        - a
    layer(octopus):
      title: layer(octopus)
      x-stoplight:
        id: vf3nbwzn5q7qh
      type: object
      description: Общее описание слоя
      properties:
        id:
          type: string
          description: ИД слоя
          example: '3:3'
        name:
          type: string
          description: Наименование слоя
        origin:
          type: string
          description: 'Инструмент, в котором был создан слой'
          enum:
            - sketch
            - xd
            - photoshop
            - figma
            - illustrator
        visible:
          type: boolean
          default: true
          description: |-
            Флаг видимости слоя на Рабочей области:
            * true - слой виден (возвращается по умолчанию);
            * false - слой скрыт
        bounds:
          type: object
          description: Границы слоя (без эффектов)
          properties:
            top:
              $ref: '#/components/schemas/top'
            left:
              $ref: '#/components/schemas/left'
            weight:
              $ref: '#/components/schemas/weight'
            height:
              $ref: '#/components/schemas/height'
            right:
              $ref: '#/components/schemas/right'
            bottom:
              $ref: '#/components/schemas/bottom'
          required:
            - top
            - left
            - weight
            - height
            - right
            - bottom
        shape:
          $ref: '#/components/schemas/shape'
        clipped:
          type: boolean
          description: |-
            Флаг, указывающий скрывается ли текущий слой другим слоем:
            * true: скрывается (при этом должен возвращатьсяпараметр maskedBy);
            * false: не скрывается
        maskedBy:
          type: string
          description: 'ИД слоя, который является маской для текущего слоя'
        maskType:
          type: string
          description: |-
            Тип маски.
            Для figma возвращаются два из доступных значений:
            * alpha: если для маски в figma отключена настройка "Использовать контур формы";
            * figmaOutline: если для маски в figma включена настройка "Использовать контур формы"
          enum:
            - alpha
            - inverse-luminosity
            - luminosity
            - outline
            - psd
            - svg
            - figmaOutline
        bitmapMask:
          type: object
          deprecated: true
          description: |-
            Маска растрового изображения. Используется только для инструмента Photoshop

            -- Не используем;
            -- Не возвращается для инструмента figma
          properties:
            bounds:
              type: object
              description: 'Границы растровой маски. Если отсутствует, вместо него используется значение layer.bitmap.'
              properties:
                top:
                  $ref: '#/components/schemas/top'
                left:
                  $ref: '#/components/schemas/left'
                weight:
                  $ref: '#/components/schemas/weight'
                height:
                  $ref: '#/components/schemas/height'
                right:
                  $ref: '#/components/schemas/right'
                bottom:
                  $ref: '#/components/schemas/bottom'
              required:
                - top
                - left
                - weight
                - height
                - right
                - bottom
            filename:
              type: string
              description: Ссылка на URI файла растровой маски (URL или относительное имя файла)
            enabled:
              type: boolean
              description: |-
                Флаг, указывающий будет ли приминена маска:
                * true: будет применена;
                * false: не применена
            extendWithWhite:
              type: boolean
              description: 'Если значение "true", то растровое изображение маски должно быть изменено в соответствии с размером слоя, который оно маскирует, расширенная область должна быть заполнена сплошным белым цветом'
          required:
            - filename
        clipBounds:
          type: object
          description: |-
            Ограничивающие границы, которые можно использовать вместо прямоугольной ограничивающей маски того же положения и размера

            -- Не используется;
            -- Не возвращается для инструмента figma
          deprecated: true
          properties:
            top:
              $ref: '#/components/schemas/top'
            left:
              $ref: '#/components/schemas/left'
            weight:
              $ref: '#/components/schemas/weight'
            right:
              $ref: '#/components/schemas/right'
            bottom:
              $ref: '#/components/schemas/bottom'
            height:
              $ref: '#/components/schemas/height'
          required:
            - top
            - left
            - weight
            - right
            - bottom
            - height
        opacity:
          type: number
          format: float
          default: 1
          minimum: 0
          maximum: 1
          description: 'Уровень непрозрачности слоя: 1 - полностью непрозрачный, 0 - полностью прозрачный. Описывает значение альфа-канала (непрозрачности)'
        fillOpacity:
          type: number
          format: float
          deprecated: true
          default: 1
          minimum: 0
          maximum: 1
          description: |-
            Уровень непрозрачности заливки слоя: 1 - полностью непрозрачный, 0 - полностью прозрачный. Описывает значение альфа-канала (непрозрачности)

            -- Не используется;
            -- Не возвращается для инструмента figma
        blendMode:
          type: string
          enum:
            - BLEND_DIVIDE
            - BLEND_SUBTRACTION
            - COLOR
            - COLOR_BURN
            - COLOR_DODGE
            - DARKEN
            - DARKER_COLOR
            - DIFFERENCE
            - DISSOLVE
            - EXCLUSION
            - HARD_LIGHT
            - HARD_MIX
            - HUE
            - LIGHTEN
            - LIGHTER_COLOR
            - LIGHTEN_BURN
            - LIGHTEN_DODGE
            - LIGHTEN_LIGHT
            - LUMINOSITY
            - MULTIPLY
            - OVERLAY
            - PASS_THROUGH
            - PIN_LIGHT
            - SATURATION
            - SCREEN
            - SOFT_LIGHT
            - VIVID_LIGHT
            - NORMAL
          description: Режим наложения слоя
        effects:
          type: object
          description: Дескриптор эффектов слоя
          properties:
            fills:
              type: array
              description: Слои заливки
              items:
                type: object
                properties:
                  id:
                    type: string
                    description: ИД заливки
                  color:
                    $ref: '#/components/schemas/color'
                  gradient:
                    $ref: '#/components/schemas/effectAbstractGradient'
                  pattern:
                    $ref: '#/components/schemas/effectAbstractPattern'
                  nocolor:
                    type: boolean
                    description: |-
                      Флаг, указывающий на пустую заливку (для слоев формы):
                      * true: используется пустая заливка;
                      * false: не используется

                      -- Не используем;
                      -- Не возвращается для инструмента figma
                    deprecated: true
                  default:
                    type: boolean
                    description: |-
                      Если значение true, то заливка применяется ко всему слою, иначе, false, к растровому изображению

                      -- Не используем;
                      -- Для figma всегда возвращается "true"
                  blendMode:
                    type: string
                    description: Режим наложения слоя заливки
                    enum:
                      - BLEND_DIVIDE
                      - BLEND_SUBTRACTION
                      - COLOR
                      - COLOR_BURN
                      - COLOR_DODGE
                      - DARKEN
                      - DARKER_COLOR
                      - DIFFERENCE
                      - DISSOLVE
                      - EXCLUSION
                      - HARD_LIGHT
                      - HARD_MIX
                      - HUE
                      - LIGHTEN
                      - LIGHTER_COLOR
                      - LIGHTEN_BURN
                      - LIGHTEN_DODGE
                      - LIGHTEN_LIGHT
                      - LUMINOSITY
                      - MULTIPLY
                      - OVERLAY
                      - PASS_THROUGH
                      - PIN_LIGHT
                      - SATURATION
                      - SCREEN
                      - SOFT_LIGHT
                      - VIVID_LIGHT
                      - NORMAL
                required:
                  - id
            shadows:
              type: array
              description: Дескриптор эффекта теней
              items:
                type: object
                properties:
                  id:
                    type: string
                    description: ИД слоя тени
                  x:
                    type: number
                    description: Горизонтальное положение тени
                  'y':
                    type: number
                    description: Вертикальное положение тени
                  blur:
                    type: number
                    description: Размытие тени
                  choke:
                    type: number
                    description: Величина размытия контура тени
                  color:
                    $ref: '#/components/schemas/color'
                  contour:
                    type: array
                    description: |-
                      Описание функций контуров тени

                      -- Не используем;
                      -- Не возвращается для инструмента figma
                    deprecated: true
                    items:
                      type: object
                      properties:
                        floor:
                          type: number
                          format: float
                          description: Нижний предел сегмента функции контура
                        ceil:
                          type: number
                          format: float
                          description: Верхний предел сегмента функции контура
                        points:
                          type: object
                          description: Массив точек сегмента функции контура
                          properties:
                            x:
                              type: number
                            'y':
                              type: number
                      required:
                        - floor
                        - ceil
                        - points
                  inset:
                    type: boolean
                    description: |-
                      Флаг, указывающий отбрасывается ли тень на внутреннюю часть формы:
                      * true: отбрасывается (в figma выбрана тень с типом "inner shadow");
                      * false: не отбрасывается (в figma выбрана тень с типом "drop shadow")
                  glow:
                    type: boolean
                    description: |-
                      Флаг, указывающий, что эффект является "свечением" вместо тени:
                      * true: свечение;
                      * false: тень

                      -- Не используем;
                      -- Для figma всегда приходит "false"
                  blendMode:
                    type: string
                    description: Режим наложения тени
                    enum:
                      - BLEND_DIVIDE
                      - BLEND_SUBTRACTION
                      - COLOR
                      - COLOR_BURN
                      - COLOR_DODGE
                      - DARKEN
                      - DARKER_COLOR
                      - DIFFERENCE
                      - DISSOLVE
                      - EXCLUSION
                      - HARD_LIGHT
                      - HARD_MIX
                      - HUE
                      - LIGHTEN
                      - LIGHTER_COLOR
                      - LIGHTEN_BURN
                      - LIGHTEN_DODGE
                      - LIGHTEN_LIGHT
                      - LUMINOSITY
                      - MULTIPLY
                      - OVERLAY
                      - PASS_THROUGH
                      - PIN_LIGHT
                      - SATURATION
                      - SCREEN
                      - SOFT_LIGHT
                      - VIVID_LIGHT
                      - NORMAL
                required:
                  - id
            borders:
              type: array
              description: Дескриптор обводки
              items:
                type: object
                properties:
                  id:
                    type: string
                    description: ИД слоя обводки
                  width:
                    type: number
                    format: float
                    description: Ширина обводки
                  color:
                    $ref: '#/components/schemas/color'
                  style:
                    type: string
                    enum:
                      - solid
                      - dotted
                      - dashed
                    default: solid
                    description: |-
                      Стиль обводки. При пунктирном стиле обводки дополнительно возвращаются параметры dashedOffset и dashedSet

                      -- Независимо от выбранного стиля в figma, всегда возвращается "solid"
                  lineAlignment:
                    type: string
                    enum:
                      - outside
                      - inside
                      - center
                    description: Выравниевание обводки относительно контура формы
                  lineJoin:
                    type: string
                    enum:
                      - bevel
                      - round
                      - miter
                    description: Стиль соединения между сегментами обводки
                    default: miter
                  lineCap:
                    type: string
                    enum:
                      - butt
                      - round
                      - square
                    default: butt
                    description: Стиль конечных точек обводки
                  miterLimit:
                    type: number
                    format: float
                    description: 'Предел угла, образованного между двумя сегментами обводки'
                    deprecated: true
                  dashOffset:
                    type: number
                    deprecated: true
                    description: |-
                      Начальное смещение границы штриха (применяется к пунктирной обводке)

                      -- Не используется; 
                      -- Приходит только для стиля обводки style: "dash", который не возвращает octopus на основе дизайн-файлов figma
                    format: float
                  dashSet:
                    type: array
                    deprecated: true
                    description: |-
                      Настройка чередования штрихов и пробелов (применяется для пунктироной обводки)

                      -- Не используется; 
                      -- Приходит только для стиля обводки style: "dash", который не возвращает octopus на основе дизайн-файлов figma
                    items:
                      type: number
                      format: float
                  overprint:
                    type: boolean
                    description: |-
                      Если внутренняя/центрированная обводка с прозрачностью делает видимым базовый экземпляр (true) или экземпляр обрезается обводкой (false).

                      -- Не используем;
                      -- Не возвращается для инструмента figma
                    deprecated: true
                  default:
                    type: boolean
                    description: |-
                      Если значение true, то заливка применяется ко всему слою, иначе, false, к растровому изображению

                      -- Не используем;
                      -- Для figma всегда возвращается "true"
                  blendMode:
                    type: string
                    enum:
                      - BLEND_DIVIDE
                      - BLEND_SUBTRACTION
                      - COLOR
                      - COLOR_BURN
                      - COLOR_DODGE
                      - DARKEN
                      - DARKER_COLOR
                      - DIFFERENCE
                      - DISSOLVE
                      - EXCLUSION
                      - HARD_LIGHT
                      - HARD_MIX
                      - HUE
                      - LIGHTEN
                      - LIGHTER_COLOR
                      - LIGHTEN_BURN
                      - LIGHTEN_DODGE
                      - LIGHTEN_LIGHT
                      - LUMINOSITY
                      - MULTIPLY
                      - OVERLAY
                      - PASS_THROUGH
                      - PIN_LIGHT
                      - SATURATION
                      - SCREEN
                      - SOFT_LIGHT
                      - VIVID_LIGHT
                      - NORMAL
                    description: Режим наложения стиля обводки
                  pattern:
                    $ref: '#/components/schemas/effectAbstractPattern'
                  gradient:
                    $ref: '#/components/schemas/effectAbstractGradient'
                required:
                  - id
                  - width
            blurs:
              type: array
              description: Дескриптор эффекта размытия
              items:
                type: object
                properties:
                  id:
                    type: string
                    description: ИД слоя размытия
                  type:
                    type: string
                    enum:
                      - GAUSSIAN
                      - MOTION
                      - ZOOM
                      - BACKGROUND
                    description: |-
                      Тип эффекта размытия

                      Для документа из инструмента figma используются только: GAUSSIAN и BACKGROUND
                  radius:
                    type: number
                    format: float
                    description: Радиус эффекта размытия
                  angle:
                    type: number
                    format: float
                    description: |-
                      Угол размытия при движении (в градусах)

                      -- Не используем;
                      -- Не возвращается для инструмента figma
                    deprecated: true
                  center:
                    type: object
                    description: |-
                      Центр размытия масштабирования

                      -- Не используем;
                      -- Не возвращается для инструмента figma
                    deprecated: true
                    properties:
                      x:
                        type: number
                        format: float
                      'y':
                        type: number
                        format: float
                  brightness:
                    type: number
                    format: float
                    default: 100
                    description: |-
                      Уровень яркости размытия (в %)

                      -- Не используем;
                      -- Не возвращается для инструмента figma
                    deprecated: true
                  opacity:
                    type: number
                    format: float
                    default: 1
                    description: |-
                      Непрозрачность размытия. Описывает значение альфа-канала

                      -- Не используем;
                      -- Не возвращается для инструмента figma
                    minimum: 0
                    maximum: 1
                    deprecated: true
                required:
                  - id
                  - type
        bitmap:
          type: object
          deprecated: true
          description: |-
            Содержимое слоя в виде растрового изображения

            -- Не используем;
            -- Не возвращается для инструмента figma
          properties:
            duplicateOf:
              type: string
              description: 'Ссылка на ИД слоя, из которого должен быть скопирован дескриптор растрового изображения.'
            bounds:
              type: object
              description: 'Границы растрового изображения, включая эффекты: тени, размытие, обводку'
              properties:
                top:
                  $ref: '#/components/schemas/top'
                left:
                  $ref: '#/components/schemas/left'
                weight:
                  $ref: '#/components/schemas/weight'
                height:
                  $ref: '#/components/schemas/height'
                right:
                  $ref: '#/components/schemas/right'
                bottom:
                  $ref: '#/components/schemas/bottom'
              required:
                - top
                - left
                - weight
                - height
                - right
                - bottom
            blank:
              type: boolean
              description: |-
                true - если слой полностью пустой. Такой слой не имеет непрозрачных пикселей;
                false - если слой не пустой
            simpleFill:
              $ref: '#/components/schemas/color'
            filename:
              type: string
              description: Ссылка на URI файла растровой маски (URL или относительное имя файла)
            premultiplied:
              type: boolean
              description: 'Флаг, указывающий было ли канал растрового изображения умножен на альфа (внутренний параметр)'
            metadata:
              type: object
              description: Содержит различную информацию о конфигурации рендеринга (внутренний параметр octopus)
            effectsApplied:
              type: boolean
              description: |-
                Флаг, уазывающий, содержит ли растровое изображение все эффекты:
                * true: содержит;
                * false: не содержит
        rotation:
          type: number
          format: float
          description: |-
            Угол поворота в градусах

            -- Для корректного отображения в инструменте figma, если вернулось значение >= 0, то необходимо вычесть это значение из 180 для отображения слоя в фигма. Если значение <= 0, то значение остается как есть
        isFlippedVertical:
          type: boolean
          deprecated: true
          description: |-
            Необходимость переворота слоя по оси y:
            * true: слой должен быть перевернут по оси y;
            * false: слой не должен быть перевернут

            -- Не используем;
            -- Для файлов из инструмента figms всегда возвращается "false"
        isFlippedHorizontal:
          type: boolean
          deprecated: true
          description: |-
            Необходимость переворота слоя по оси x:
            * true: слой должен быть перевернут по оси x;
            * false: слой не должен быть перевернут

            -- Не используем;
            -- Для файлов из инструмента figms всегда возвращается "false"
        blank:
          type: boolean
          description: |-
            true, если слой полностью пустой. Такой слой не имеет непрозрачных пикселей.

            -- Не используем;
            -- Не возвращается для инструмента figma
          deprecated: true
        symbolID:
          type: string
          description: |-
            ИД фрейма в документе octopus. Возвращается если фрейм фигмы является компонентом

            -- Можно использовать для
          deprecated: true
        overrides:
          type: object
          description: |-
            Значения в мастере, которые переопределяются в экземпляре

            -- Не используем;
            -- Не возвращается для инструмента figma
          deprecated: true
          properties:
            type:
              type: string
              enum:
                - symbolID
                - stringValue
                - image
                - flowDestination
                - layerStyle
                - fillColor
              description: Тип записи переопределения
            path:
              type: string
              description: 'Путь переопределения - состоит из идентификаторов слоев, разделенных символом: "/"'
            value:
              type: string
              description: |-
                Значение переопределения в зависимости от типа:
                * Для типа symbolID это символ другого мастера символов, пустая строка, если экземпляр удален;
                * Для stringValue типа это переопределенное текстовое содержимое;
                * Для image это ссылка на другое растровоеизображение;
                * Для flowDestination это идентификатор другой монтажной области;
                * Для layerStyle это идентификатор общего слоя или текстового стиля;
                * Для fillColor это цветовой дескриптор, используемый в качестве цвета "оттенка"
        resizingContraints:
          type: array
          description: |-
            Ограничения на изменение размера слоя, применяемые, когда слой участвует в процессе создания экземпляра символа.

            Список ограничений, определяющих поведение объекта при изменении размера родительского объекта.

            -- Если вернулось значение height, то в figma это выравнивание center по высоте;
            -- Если вернулось значение height, то в figma это выравнивание center по ширине;
            -- Если не вернулись значения для ограничения по ширине или высоте, то соответствующее ограничение в figma имеет значение scale
          items:
            type: string
            enum:
              - left
              - right
              - top
              - bottom
              - height
              - weight
        isVirtual:
          type: boolean
          description: |-
            Флаг, обозначающий слой, который был искусственно добавлен в документ и который не существует в исходном источнике (например, фоновые слои в figma):
            * true: искуственный слой;
            * false: реальный слой из исходного документа figma
        type:
          type: string
          description: |-
            Тип слоя

            -- Для figma могут вернуться только: "shapeLayer", "layer", "groupLayer", "textLayer"
          enum:
            - shapeLayer
            - textLayer
            - document
            - adjustmentLayer
            - layer
            - backgroundLayer
            - groupLayer
        appliedStyles:
          type: array
          description: |-
            Применяемые стили заливки, оводки, теней, размытия

            -- Не используем;
            -- Не возвращается для инструмента figma
          items:
            type: object
            properties:
              id:
                type: string
                description: ИД стиля
              appliedAs:
                type: object
                description: Применяемый стиль
                properties:
                  type:
                    type: string
                    enum:
                      - FILL
                      - STROKE
                      - EFFECT
                    description: |-
                      Тип стиля: 
                      * FILL - заливка;
                      * STROKE - обводка; 
                      * EFFECT - эффект (тень или размытие)
            required:
              - id
        shapeRadius:
          type: array
          description: |-
            Массив радиусов углов формы, которые являются вершинам в контуре формы

            -- Возвращается только для type: "shapeLayer"
          items:
            type: number
        borderShape:
          $ref: '#/components/schemas/shape'
        layers:
          type: array
          description: |-
            Массив с описанием подслоев

            -- Объязательный параметр для слоя с типом layer.type: "groupLayer"
          items:
            $ref: '#/components/schemas/layer(octopus)'
        artboard:
          type: object
          description: |-
            Границы слоя, если слой является фреймом

            -- Возвращается только для слоя с типом layer.type: "groupLayer"
          properties:
            bounds:
              type: object
              description: Границы слоя
              properties:
                top:
                  $ref: '#/components/schemas/top'
                left:
                  $ref: '#/components/schemas/left'
                weight:
                  $ref: '#/components/schemas/weight'
                height:
                  $ref: '#/components/schemas/height'
                right:
                  $ref: '#/components/schemas/right'
                bottom:
                  $ref: '#/components/schemas/bottom'
              required:
                - top
                - left
                - weight
                - height
                - right
                - bottom
            color:
              $ref: '#/components/schemas/color'
            clipsContent:
              type: boolean
              description: 'Если true, то области подслоев, которая выходит за границы фрейма, будут скрыты (обрезаны). Иначе, false, будут отображаться'
        smartLayout:
          type: string
          description: |-
            Умная компоновка

            -- Возвращается только для слоя с типом layer.type: "groupLayer";
            -- Не используем. Не возвращается для инструмента figma
          enum:
            - RIGHT_TO_LEFT
            - HORIZONTAL_CENTER
            - TOP_TO_BOTTOM
            - BOTTOM_TO_TOP
            - HORIZONTAL_CENTER
            - LEFT_TO_RIGHT
          deprecated: true
      required:
        - id
        - type
        - layers
    shape:
      title: shape
      x-stoplight:
        id: wad056xttdasi
      type: object
      description: |-
        Дескриптор формы;
        * Для параметра shape содержит информацию о границах замкнутой формы;
        * Для параметра borderShape содержит информацию о гораницах произвольной (незамкнутой формы);
        * Используется только для слоев с type: "shapeLayer"
      properties:
        paths:
          $ref: '#/components/schemas/shapePath'
        enabled:
          type: boolean
          default: true
          description: |-
            Если форма является векторной маской, то данный флаг указывает, включена маска или нет:
            * true - маска включена (по умолчанию);
            * false - выключена

            -- Не используем;
            -- Не возвращается для инструмента figma
          deprecated: true
        windingRule:
          type: string
          enum:
            - on-zero
            - even-odd
          default: even-odd
          description: |
            Правила взаимодействия контуров объектов, которые пересекаются:
            * non-zero: заливка по правилу ненулевого направления;
            * even-odd: заливка по правилу четности и нечетности
          deprecated: true
      required:
        - paths
    shapePath:
      title: shapePath
      x-stoplight:
        id: c2bn6x5k7w4p1
      type: array
      description: Описение единого вектороного пути
      items:
        type: object
        properties:
          type:
            type: string
            enum:
              - rect
              - ellipse
              - path
            description: |-
              Тип формы, которую представляет векторный путь. Если пустой, то форма неизвестна для octopus

              -- Можно не использовать. Для фигмы в данном параметре приходит одно значение: "path"
            deprecated: true
          booleanOperation:
            type: string
            description: |-
              Логичечкая операция, объединяющая текущий и следующий путь в массиве

              -- Можно не использовать. Для в данном параметре всегда возвращается значение: "none" (по умолчанию)
            enum:
              - none
              - exclusion
              - intersection
              - subtraction
              - union
            default: none
            deprecated: true
          subpaths:
            $ref: '#/components/schemas/shapeSubpath'
          bounds:
            type: object
            description: |-
              Границы пути. Если отсутствует, то границы неизвестны

              -- Не используем;
              -- Не возвращается для инструмента figma
            deprecated: true
            properties:
              top:
                $ref: '#/components/schemas/top'
              left:
                $ref: '#/components/schemas/left'
              weight:
                $ref: '#/components/schemas/weight'
              height:
                $ref: '#/components/schemas/height'
              right:
                $ref: '#/components/schemas/right'
              bottom:
                $ref: '#/components/schemas/bottom'
            required:
              - top
              - left
              - weight
              - height
              - right
              - bottom
          radius:
            type: object
            deprecated: true
            description: |-
              Радиусы углов прямоугольник

              -- Не используем;
              -- Не возвращается для инструмента figma
          rotation:
            type: string
            deprecated: true
            description: |-
              Поворот векторного пути (в градусах)

              -- Не используем;
              -- Не возвращается для инструмента figma
          resizingContraints:
            type: array
            description: |-
              Ограничения на изменение размера слоя, применяемые, когда слой участвует в процессе создания экземпляра символа.

              Список ограничений, определяющих поведение объекта при изменении размера родительского объекта.

              -- Не используем;
              -- Не возвращается для инструмента figma
            items:
              type: string
              deprecated: true
          isFlippedVertical:
            type: boolean
            deprecated: true
            description: |-
              Необходимость переворота слоя по оси y:
              * true: слой должен быть перевернут по оси y;
              * false: слой не должен быть перевернут

              -- Не используем;
              -- Не возвращается для инструмента figma
          isFlippedHorizontal:
            type: boolean
            deprecated: true
            description: |-
              Необходимость переворота слоя по оси x:
              * true: слой должен быть перевернут по оси x;
              * false: слой не должен быть перевернут

              -- Не используем;
              -- Не возвращается для инструмента figma
        required:
          - subpaths
    shapeSubpath:
      title: shapeSubpath
      x-stoplight:
        id: pok4gdtm9bp3q
      type: array
      description: Дескриптор одного контура
      items:
        type: object
        properties:
          closed:
            type: boolean
            description: |-
              Флаг, указывающий, закрыт путь или открыт:
              * true: путь открыт;
              * false: закрыт

              -- Можно не использовать, для figma всегда приходит true
          points:
            $ref: '#/components/schemas/shapePoint'
        required:
          - points
    shapePoint:
      title: shapePoint
      x-stoplight:
        id: lonuuhy0s3vzq
      type: array
      description: Массив описания точек пути
      items:
        type: object
        properties:
          type:
            type: string
            enum:
              - point
              - quad
              - cubic
              - bezier
            description: |-
              Тип точки:
              * point: простая точка;
              * quad: точка имеет одну контрольную точку, соседний сегмент представляет квадратную кривую Безье;
              * cubic: точка имеет две контрольные точки, соседний сегмент представляет кубическую кривую;  
              * bezier: псевдоним для cubic

              -- Для figma возвращабтся только два типа: bezier - для отрисовки эллипса и кривых с изгибами, point - для отсальных векторных форм
          coordinates:
            type: array
            description: |-
              Массив координат точки. Координаты x и y чередуются в массиве.

              Если точка имеет тип bezier, элементы сохраняются как [c1.x c1.y c2.x c2.y p.x p.y], где p - точка на кривой, а c1 и c2 - ее соседние контрольные точки. Для типа point - [p.x p.y].
            items:
              type: number
              format: float
          radius:
            type: number
            format: float
            description: |-
              Радиус угла в точке

              -- Не используем;
              -- Не возвращается для инструмента figma
            deprecated: true
        required:
          - type
          - coordinates
    effectAbstractGradient:
      title: effectAbstractGradient
      x-stoplight:
        id: 11otoxmgvyhkj
      type: object
      description: Дескриптор градиента
      properties:
        stops:
          type: array
          description: 'Массив стоп-точек градиента. Каждый элемент представляет собой объект, содержащий значения цвета и местоположения.'
          items:
            type: object
            properties:
              color:
                $ref: '#/components/schemas/color'
              location:
                type: number
                description: Местоположение (в %) стоп-точки
                format: float
              exp:
                type: number
                format: float
                default: 1
                deprecated: true
                description: |-
                  Показатель степени, который будет использоваться для интерполяции цвета между этой и следующей стоп-точкой. Каждое входное значение x должно возвращать n значений (по 1 для каждого цветового компонента), задаваемых y_j = C0_j + x^exp * (C1_j - C0_j), где 0 <= j < n, C0 - цвет, определенный на текущей остановке, а C1 - цвет, определенный на следующей остановке.

                  -- Не используем;
                  -- Не возвращается для инструмента figma
              reverseExp:
                type: boolean
                deprecated: true
                description: |-
                  Если true, то показатель степени нужно использовать для интерполяции цвета в противоположном направлении

                  -- Не используем;
                  -- Не возвращается для инструмента figma
            required:
              - color
              - location
        type:
          type: string
          enum:
            - linear
            - radial
            - circular
          description: |-
            Тип градиента.

            -- Не поддерживается тип градиента из figma: "diamond"
        invert:
          type: boolean
          description: |-
            Флаг, указывающий был ли инвертирован градиент:
            * true: инвертирован;
            * false: не инвертирован

            -- Не используем;
            -- Для figma всегда возвращается "true"
          deprecated: true
        offset:
          type: object
          required:
            - horizontal
            - vertical
          description: |-
            Смещение градиента к относительному значению

            -- Не используем;
            -- Не возвращается для инструмента figma
          deprecated: true
          properties:
            horizontal:
              type: number
              format: float
              description: Смещение по оси X
            vertical:
              type: number
              format: float
              description: Смещение по оси Y
        scale:
          type: number
          format: float
          default: 1
          description: Градиентная шкала
        angle:
          type: number
          format: float
          description: |-
            Угол наклона в градусах

            -- Не используем;
            -- Не возвращается для инструмента figma
          deprecated: true
        relativeTo:
          type: string
          enum:
            - layer
            - document
          description: |-
            Настройка конфигурации относительно слоя или документа

            -- Не используем;
            -- Для инструмента figma всегда приходит "document"
          deprecated: true
        ellipseLength:
          type: number
          format: float
          default: 1
          description: 'Для градиентов в форме эллипса ("radila" и "angular" в figma), описывает отношение большой к малой полуоси эллипса'
        from:
          type: array
          description: Дескриптор первой точки направления градиента
          items:
            type: number
            format: float
        to:
          type: array
          description: Дескриптор конечной точки направления градиента
          items:
            type: number
            format: float
      required:
        - stops
        - type
        - relativeTo
    effectAbstractPattern:
      type: object
      title: effectAbstractPattern
      x-stoplight:
        id: 9pn0timlo6475
      description: Дескриптор паттерна
      properties:
        filename:
          type: string
          description: Ссылка на URI файла шаблона (URL или относительное имя файла)
        opacity:
          type: number
          format: float
          default: 1
          description: Непрозрачность паттерна
          minimum: 0
          maximum: 1
        offset:
          type: object
          description: |-
            Смещение шаблона к относительному значеню

            -- Не используем;
            -- Не возвращается для инструмента figma
          deprecated: true
          properties:
            horizontal:
              type: number
              format: float
              description: Смещение по оси X
            vertical:
              type: number
              format: float
              description: Смещение по оси Y
          required:
            - horizontal
            - vertical
        relativeTo:
          type: string
          enum:
            - layer
            - document
          description: |-
            Настройка конфигурации относительно слоя или документа

            -- Не используем;
            -- Для инструмента figma всегда приходит "layer"
          deprecated: true
        scale:
          type: number
          format: float
          default: 1
          description: |-
            Шкала паттерна

            -- Используется только для типа паттерна: "tile"
        type:
          type: string
          enum:
            - fill
            - fit
            - stretch
            - tile
          description: Тип паттерна (тип "stretch" в figma называется "crop")
        transform:
          type: object
          description: |-
            Матрица преобразования паттерна относительно слоя. 
            Значения параметров объекта представлены в виде процентного соотношения ко всей области слоя, поделенного на 100
          properties:
            a:
              type: number
              format: float
              description: 'Масштаб по горизонтали. Значение больше 1-го расширяет область паттерна, значение меньше 1-го, наоборот, уменьшает область'
            b:
              type: number
              format: float
              description: 'Наклон по горизонтали. Положительное значение наклоняет влево, отрицательное вправо.'
            c:
              type: number
              format: float
              description: 'Наклон по вертикали. Положительное значение наклоняет вверх, отрицательное вниз.'
            d:
              type: number
              format: float
              description: 'Масштаб по вертикали. Значение больше 1-го расширяет область паттерна, значение меньше 1-го, наоборот, уменьшает область'
            tx:
              type: number
              format: float
              description: 'Смещение по горизонтали. Положительное значение сдвигает элемент вправов, отрицательное значение сдвигает влево.'
            ty:
              type: number
              format: float
              description: Смещение по вертикали. При положительном значении элемент смещается вниз или вверх при отрицательном значении
      required:
        - filename
        - relativeTo
        - type
    text:
      title: text
      x-stoplight:
        id: 2jgc8ao3uw2wt
      type: object
      description: |-
        Дескриптор текста.
        Возвращается только для слоя с type: "textLayer"
      properties:
        styles:
          type: array
          description: 'Массив, содержащий диапазоны стилей шрифто. Массив приходит не пустой если помимо дефолтного стиля в текстовом слое используются еще другие стили'
          items:
            type: object
            properties:
              font:
                $ref: '#/components/schemas/font'
              color:
                $ref: '#/components/schemas/color'
              ranges:
                type: array
                description: 'Массив диапазонов стиля текста. Один диапазон - это пара индексов from и to в строке параметра text.value, диапазон представляет собой полуоткрытый интервал, значение в индексе to не является частью диапазона.'
                items:
                  type: object
                  properties:
                    from:
                      type: integer
                      format: int32
                      description: Начальный индекс диапазона
                    to:
                      type: integer
                      format: int32
                      description: Конечный индекс диапазона
        defaultStyle:
          type: object
          description: 'Стиль текста, который используется по умолчанию, когда диапазоны стилей в text.styles[] не охватывают определенный фрагмент текста. Каждый диапазон стилей шрифта в массиве text.styles[] переопределяет значение стиля по умолчанию.'
          properties:
            color:
              $ref: '#/components/schemas/color'
            font:
              $ref: '#/components/schemas/font'
        transform:
          type: object
          description: |-
            Коэффициенты масштабирования изменения текста

            -- Не используем;
            -- Не возвращается для инструмента figma
          properties:
            scaleX:
              type: number
              description: Коэффициент масштабирования по оси X
            scaleY:
              type: number
              description: Коэффициент масштабирования по оси Y
          required:
            - scaleX
            - scaleY
        transformMatrix:
          type: object
          description: |-
            Матрица преобразования текст (отновительно документа)

            -- Не используем;
            -- Не возвращается для инструмента figma
          required:
            - a
            - b
            - c
            - d
            - tx
            - ty
          properties:
            a:
              type: number
              format: float
              description: 'Масштаб по горизонтали. Значение больше 1-го расширяет область паттерна, значение меньше 1-го, наоборот, уменьшает область'
            b:
              type: number
              format: float
              description: 'Наклон по горизонтали. Положительное значение наклоняет влево, отрицательное вправо.'
            c:
              type: number
              format: float
              description: 'Наклон по вертикали. Положительное значение наклоняет вверх, отрицательное вниз.'
            d:
              type: number
              format: float
              description: 'Масштаб по вертикали. Значение больше 1-го расширяет область паттерна, значение меньше 1-го, наоборот, уменьшает область'
            tx:
              type: number
              format: float
              description: 'Смещение по горизонтали. Положительное значение сдвигает элемент вправов, отрицательное значение сдвигает влево.'
            ty:
              type: number
              format: float
              description: Смещение по вертикали. При положительном значении элемент смещается вниз или вверх при отрицательном значении
        value:
          type: string
          description: Текстовое содержимое текстового слоя
        frame:
          type: object
          description: 'Область, в которую должен быть помещен текстовый слой'
          properties:
            top:
              $ref: '#/components/schemas/top'
            left:
              $ref: '#/components/schemas/left'
            weight:
              $ref: '#/components/schemas/weight'
            height:
              $ref: '#/components/schemas/height'
            right:
              $ref: '#/components/schemas/right'
            bottom:
              $ref: '#/components/schemas/bottom'
          required:
            - top
            - left
            - weight
            - height
            - right
            - bottom
        boundsMode:
          type: string
          enum:
            - auto
            - auto-height
            - fixed
          description: |-
            Расположение текста внутри фрейма (изменение текстовой области в соответствии с границам фрейма):
            * auto: изменение границ фрейма по ширине, при вводе / удалении текста;
            * auto-height: изменение границ фрейма по высоте, при вводе / удалении текста;
            * fixed: фиксированные границы фрейма, независимо от введенного текста
          default: auto
        verticalAlignment:
          type: string
          description: |-
            Выравнивание текста по вертикали относительно всего слоя (фрейма):
            * top: по верхнему краю;
            * center: по центру;
            * bottom: по нижнему краю
          enum:
            - top
            - center
            - bottom
          default: top
        baselinePolicy:
          type: string
          enum:
            - fixed
            - center
          default: center
          description: |-
            Cпособ определения базовой позиции:
            * fixed: фиксированный - расстояние базовой линии от вершины слоя задается только свойствами шрифта;
            * center: базовая линия центрируется внутри линии (т.е. зависит от высоты линии)

            -- Можем не использовать. Для документов figma всегда возвращается значение "center"
          deprecated: true
      required:
        - value
    font:
      title: font
      x-stoplight:
        id: grv9guvslns0y
      type: object
      description: Дескриптор стиля текста
      properties:
        align:
          type: string
          enum:
            - left
            - center
            - right
            - justify
          description: |-
            Выравнивание текста по горизонтали:
            * left: выравнивание по левому краю;
            * right: по правому краю;
            * center: по центру;
            * justify по ширине: 
        name:
          type: string
          description: Общее название шрифта
        type:
          type: string
          description: |-
            Тип шрифта (подсемейство)

            -- Для шрифтов из figma не возвращается
        size:
          type: number
          format: float
          description: Размер шрифта
        kerning:
          type: boolean
          description: |-
            Флаг, описывающий, включена ли в тексте функция кернинга:
            * true: включена;
            * false: отключена
        letterSpacing:
          type: number
          format: float
          description: |-
            Интервал между буквами текста (может быть отрицательным)

            -- В figma значение представлено в процентах. Для этого необходимо значение из данного параметра разделить на значение из параметра size и умножить на 100
        underline:
          type: number
          enum:
            - 0
            - 1
            - 2
          description: |-
            Тип подчеркивания текста:
            * 0: без подчеркивания;
            * 1: подчеркивание снизу;
            * 2: двойное почеркивание (не используется для figma)
        linethrough:
          type: boolean
          description: |-
            Флаг, указывающий, что текст зачеркнут;
            * true: зачеркнут;
            * false: зачеркивание отключено
        bold:
          type: boolean
          description: |-
            Флаг, описывает, выделен ли текст жирным шрифтом. Если отсутствует, то информация неизвестна:
            * true: текст выделен жирным;
            * false: текст не выделен
        italic:
          type: boolean
          description: |-
            Флаг, описывает, выделен ли текст курсивом. Если отсутствует, то информация неизвестна.
            * true: выделен курсивом; 
            * false: не выделен
        ligatures:
          type: number
          enum:
            - 0
            - 1
            - 2
            - 3
          default: 1
          description: |-
            Категория лигатуры:
            * 0: отсутствует;
            * 1: стандартная;
            * 2: дискреционные и исторические;
            * 3: все

            -- Не используем;
            -- Не возвращается для инструмента figma
          deprecated: true
        uppercase:
          type: boolean
          description: |-
            Флаг, описывает, преобразуется ли текст в верхний регистр. Если отсутвуте, то считаем что нет.
            * true: текст преобразуется в верхний регистр;
            * false: не преобразуется
        lowercase:
          type: boolean
          description: |-
            Флаг, описывает, преобразуется ли текст в нижний регистр. Если отсутвуте, то считаем что нет.
            * true: преобразуется;
            * false: не преобразуется
        smallcaps:
          type: boolean
          description: |-
            Флаг, указывающий, написан ли текст меленькими заглавными буквами. Если отсутвуте, то считаем что нет.
            * true: написан;
            * false: нет
        baseline:
          type: string
          enum:
            - subScript
            - superScript
            - normal
          default: normal
          description: |-
            Тип базовой позиции

            -- Не используем;
            -- Не возвращается для инструмента figma
        postScriptName:
          type: string
          description: 'PostScript название используемого шрифта (пример: "TimesNewRomanPSMT")'
        syntheticPostScriptName:
          type: boolean
          description: |-
            Флаг, указывающий, было ли сгенерировано PostScript название из-за отсутствия фактического имени.
            * true: было сгенерировано;
            * false: не сгенерировано
        lineHeight:
          type: number
          description: 'Высота строки текста. Если 0, то высота строки по умолчанию (для заданного размера шрифта) берется непосредственно из файла шрифта.'
        features:
          type: array
          description: |-
            Конфигурация множества функций OpenType

            -- Не используем;
            -- Не возвращается для инструмента figma
          items:
            type: object
            properties:
              tag:
                type: string
                description: 'Тег объекта, обычно представляющий собой 4-буквенную аббревиатуру названия объекта.'
              value:
                type: integer
                format: int32
                description: 'Для большинства функций значение равно 1 или 0, что означает, что функция должна быть включена или отключена соответственно. Определенным функциям OpenType может быть присвоено произвольное значение.'
            required:
              - tag
              - value
      required:
        - size
        - postScriptName
    error:
      title: error
      x-stoplight:
        id: fhhyw1f78ckxn
      type: object
      description: Параметры ошибки
      properties:
        errorCode:
          type: number
          description: Код ошибки
        errorText:
          type: string
          description: Текст с описанием ошибки для пользователя
      required:
        - errorCode
    numberPages:
      title: numberPages
      x-stoplight:
        id: p1e5b8rxqfnyh
      type: object
      description: Изменение порядкового номера текущих страниц файла
      x-internal: false
      properties:
        id:
          type: string
          description: ИД текущей страницы
        newNumber:
          type: number
          description: Новый порядковый номер текущей страницы
      required:
        - id
        - newNumber
    signSave:
      title: signSave
      x-stoplight:
        id: 3n4iafv051806
      type: object
      description: Признак сохранения изменений по странице
      properties:
        id:
          type: string
          description: 'ИД страницы '
        error:
          $ref: '#/components/schemas/error'
      required:
        - id
    page:
      title: page
      x-stoplight:
        id: 5uh0t4l8k5jul
      type: object
      description: Информация по странице
      properties:
        id:
          type: string
          description: ИД страницы
        name:
          type: string
          description: Наименование страницы
        number:
          type: string
          description: Номер страницы
        backgroundCanvas:
          $ref: '#/components/schemas/color'
      required:
        - id
        - name
        - number
        - backgroundCanvas
    layer:
      title: layer
      x-stoplight:
        id: z0xzlw4prybqn
      type: object
      description: Содержимое слоя
      properties:
        id:
          type: string
          description: ИД слоя (генерируется на строне клиента)
        name:
          type: string
          description: Наименование слоя
        type:
          type: string
          description: Тип слоя
          enum:
            - shape
            - frame
            - group
            - component
            - text
            - pen
        shape:
          type: string
          description: |-
            Векторная форма.

            Параметр возвращается, если type: "shape"
          enum:
            - rectangle
            - line
            - arrow
            - ellipse
            - polygon
            - star
        position:
          type: object
          description: 'Положение слоя на Рабочей области вдоль любой их двух осей: горизонтальной (ось X) и вертикальной (ось Y)'
          required:
            - x
            - 'y'
          properties:
            x:
              type: number
              description: Положение по оси X (горизонтальное)
              format: float
              default: 0
              example: '9,99'
            'y':
              type: number
              description: Положение по оси Y (вертикальное)
              format: float
              default: 0
              example: '9,99'
        dimensions:
          type: object
          description: Размеры слоя
          required:
            - width
            - height
          properties:
            width:
              type: number
              format: float
              default: 0
              example: '9,99'
              description: Ширина
            height:
              type: number
              format: float
              default: 0
              example: '9,99'
              description: Высота
        rotation:
          type: number
          description: Угол поворота слоя в градусах
          format: float
          default: 0
          example: '9,99'
        cornerRadius:
          type: object
          description: Радиус скругления угла
          properties:
            totalCorner:
              type: number
              description: Общий радиус углов
              format: float
              default: 0
              example: '9,99'
            independentCorners:
              type: object
              description: Отдельные радиусы углов
              properties:
                topLeft:
                  type: number
                  description: Радиус верхнего левого угла
                  format: float
                  default: 0
                  example: '9,99'
                topRight:
                  type: number
                  description: Радиус верхнего правого угла
                  format: float
                  default: 0
                  example: '9,99'
                bottomRight:
                  type: number
                  description: Радиус нижнего правого угла
                  format: float
                  default: 0
                  example: '9,99'
                bottomLeft:
                  type: number
                  description: Радиус левого нижнего угла
                  format: float
                  default: 0
                  example: '9,99'
              required:
                - topLeft
                - topRight
                - bottomRight
                - bottomLeft
        fill:
          type: object
          description: Информация по заливке слоя
          properties:
            colorStyle:
              $ref: '#/components/schemas/colorStyle'
            fillLayers:
              type: array
              description: Слои заливки
              items:
                $ref: '#/components/schemas/color'
          required:
            - colorStyle
            - fillLayers
        stroke:
          type: object
          properties:
            strokeLayers:
              type: array
              description: Слои обводки
              items:
                $ref: '#/components/schemas/color'
            colorStyle:
              $ref: '#/components/schemas/colorStyle'
            settings:
              type: object
              default: true
              description: Настройки обводки
          required:
            - strokeLayers
            - colorStyle
            - settings
        addPropertiesShape:
          type: object
          description: 'Дополнительные свойства основных векторных форм (type: "shape")'
          properties:
            countPoint:
              type: number
              description: |-
                Количечтво вершин формы внутри слоя

                Возвращается если параметр shape: "polygon / star"
              default: 5
              example: 5
            ratio:
              type: number
              format: float
              default: '38,2'
              example: '38,2'
              description: |-
                Расстояние внутренних точек звезды от центра

                Возвращается если параметр shape: "star"
        points:
          type: array
          description: Описание точек пути
          items:
            type: object
            properties:
              type:
                type: string
                description: |-
                  Тип точки:
                  * point: простая точка;
                  * bezier: кривая Безье
                enum:
                  - point
                  - bezier
              coordinates:
                type: array
                description: |-
                  Массив координат точки.

                  Если точка имеет тип <b>bezier</b>, координаты возвращаются как [c1.x, c1.y, c2.x, c2.y, p.x, p.y], где p - точка на кривой, а c1 и c2 - ее соседние контрольные точки. Для типа <b>point</b> - [p.x, p.y].
                items:
                  type: number
            required:
              - type
              - coordinates
        layers:
          type: array
          description: ИД вложенных слоев
          items:
            type: string
        number:
          type: string
          description: Порядковый номер слоя
      required:
        - id
        - name
        - type
        - position
        - dimensions
        - rotation
        - cornerRadius
        - points
        - number
    color:
      title: color
      x-stoplight:
        id: yxfvzbdu6rqlh
      type: object
      description: Свойства цвета слоя или Рабочей области
      properties:
        color:
          type: string
          description: Значение цвета в формате HEX-кода
        opacity:
          type: number
          format: float
          default: 100
          example: '60,99'
          description: Непрозрачность (в процентах)
        visible:
          type: boolean
          default: true
          description: |-
            Признак видимости:
            * true: стиль отображается;
            * false: стиль скрыт
        numberLayerColor:
          type: number
          description: Порядковый номер цветового стиля
          default: 1
    colorStyle:
      title: colorStyle
      x-stoplight:
        id: ip3n7g0pwy55y
      type: object
      description: Стиль сохраненного цвета
      properties:
        id:
          type: string
          description: ИД стиля
        name:
          type: string
          description: Наименование стиля
        color:
          type: string
          description: Значение цвета в формате HEX-кода
      required:
        - id
        - name
        - color
  parameters:
    SESSION:
      name: spectr.session
      in: cookie
      required: true
      schema:
        type: string
      description: ИД сессии пользователя
    Authorization:
      name: Authorization
      in: header
      required: true
      schema:
        type: string
      description: 'Bearer {access token полученный в SSO Keycloack}'
    fileId:
      name: fileId
      in: path
      required: true
      schema:
        type: string
      description: ИД файла
    pageId:
      name: pageId
      in: path
      required: true
      schema:
        type: string
      description: ИД страницы
    layerId:
      name: layerId
      in: path
      required: true
      schema:
        type: string
      description: ИД слоя
    team:
      name: team
      in: path
      schema:
        type: string
      description: ИД команды
  securitySchemes: {}
  responses:
    error:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error'
  examples: {}
